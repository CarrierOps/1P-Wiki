# Pub/Sub documentation

## Overview

`Pubsub` is used heavily in the backend of our infrastructure on GCP, most notably as a way to make things event-driven. For a more in-depth explanation of how `Pub/Sub` works, [check out this documentation](https://github.com/CarrierOps/1P-Wiki/blob/main/ByteSizedLearning/Description%20Of%20Services/pubsub.md) Of Services/pubsub.md .

## List of Resources

This list will list out all `Pub/Sub` topics & their subscribers. Top-level bullet points will be Pub?Sub topics. Some `Pub/Sub` topics & subscribers names are auto-generated by GCP; the abbreviated name will will be written down & the full name will be written in parentheses beside it.

- **arcgis-gcs-topic**
  - **description**:
    - Topic that holds messages from the [arcgis-gcs-pull](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Scheduler/scheduler.md) scheduler. Used to trigger [this script]('') on a schedule.
  - **subscribers**:
    - arcgis-gcs-sub
- **data_backup_topic**
  - **Description**:
    - Receives message from the scheduler [data_backup_scheduler](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Scheduler/scheduler.md). Used to trigger [this script](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Cloud-Function/data-backup-sync.md) on a schedule.
  - **Subscribers**:
    - eventarc-us-west1-data-backup-sync-929544-sub-420
- **csv-to-parquet-topic** (eventarc-us-west1-csv-to-parquet-832126-665)
  - **Description**:
    - Used to trigger [this function](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Cloud-Function/csv-to-parquet.md) whenever a file is dropped in the [the-beach-stg](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/GCS/bucket_description.md) bucket in GCS.
  - **Subscribers**:
    - eventarc-us-west1-csv-to-parquet-832126-sub-205
- **trigger-att-sales-silver-ppln** (eventarc-us-west1-trigger-att-sales-silver-ppln-804024-852)
  - **description**:
    - Topic that is written to every time a file is dropped in the `sell-through` [bucket in GCS]('https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/GCS/gcs.md'). This is done by using [Eventarc](https://github.com/CarrierOps/1P-Wiki/blob/main/ByteSizedLearning/Description%20Of%20Services/Eventarc.md). Then the subscriber of this topic triggers the [att ppln trigger cloud function](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Cloud-Function/trigger_att_sales_silver_ppln.md) using a push delivery type.
  - **subscribers**:
    - eventarc-us-west1-trigger-att-sales-silver-ppln-804024-sub-713
- **dispatcher-topic** (eventarc-us-west1-dispatcher-ppln-420521-389)
  - **Description**:
    - Used to trigger [this function](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Cloud-Function/dispatcher.md) whenever a file is dropped in the [the-beach](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/GCS/bucket_description.md) bucket in GCS.
  - **Subscribers**:
    - eventarc-us-west1-dispatcher-ppln-420521-sub-872
- **outflow-topic** (eventarc-us-west1-outflow-ppln-898936-983)
  - **Description**:
    - Used to trigger [this function](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Cloud-Function/outflow.md) whenever a file is dropped in the [lake-outflow-stg](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/GCS/bucket_description.md) bucket in GCS.
  - **Subscribers**:
    - eventarc-us-west1-outflow-ppln-898936-sub-060
- **trigger-bby-ca-silver-ppln** (eventarc-us-west1-trigger-bby-ca-silver-ppln-578393-722)
  - **description**:
    - Topic that is written to every time a file is dropped in the `sell-through` [bucket in GCS]('https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/GCS/gcs.md'). This is done by using [Eventarc](https://github.com/CarrierOps/1P-Wiki/blob/main/ByteSizedLearning/Description%20Of%20Services/Eventarc.md). Then the subscriber of this topic triggers the [bby ca ppln trigger cloud function](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Cloud-Function/trigger_bby_ca_silver_ppln.md) using a push delivery type.
  - **subscribers**:
    - eventarc-us-west1-trigger-bby-ca-silver-ppln-578393-sub-708
- **trigger-bby-us-silver-ppln** (eventarc-us-west1-trigger-bby-us-silver-ppln-439084-912)
  - **description**:
    - Topic that is written to every time a file is dropped in the `sell-through` [bucket in GCS]('https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/GCS/gcs.md'). This is done by using [Eventarc](https://github.com/CarrierOps/1P-Wiki/blob/main/ByteSizedLearning/Description%20Of%20Services/Eventarc.md). Then the subscriber of this topic triggers the [bby us ppln trigger cloud function](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Cloud-Function/trigger_bby_us_silver_ppln.md) using a push delivery type.
  - **subscribers**:
    - eventarc-us-west1-trigger-bby-us-silver-ppln-439084-sub-687
- **trigger-gfa-silver-ppln** (eventarc-us-west1-trigger-gfa-silver-ppln-338086-229)
  - **description**:
    - Topic that is written to every time a file is dropped in the `gfa_data` [bucket in GCS]('https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/GCS/gcs.md'). This is done by using [Eventarc](https://github.com/CarrierOps/1P-Wiki/blob/main/ByteSizedLearning/Description%20Of%20Services/Eventarc.md). Then the subscriber of this topic triggers the [gfa ppln trigger cloud function](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Cloud-Function/trigger_gfa_silver_ppln.md) using a push delivery type.
  - **subscribers**:
    - eventarc-us-west1-trigger-bby-us-silver-ppln-439084-sub-687
- **trigger-sip-silver-ppln** (eventarc-us-west1-trigger-sip-silver-ppln-610911-867)
  - **description**:
    - Topic that is written to every time a file is dropped in the `deep-dives` [bucket in GCS]('https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/GCS/gcs.md'). This is done by using [Eventarc](https://github.com/CarrierOps/1P-Wiki/blob/main/ByteSizedLearning/Description%20Of%20Services/Eventarc.md). Then the subscriber of this topic triggers the [gfa ppln trigger cloud function](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Cloud-Function/trigger_sip_silver_ppln.md) using a push delivery type.
  - **subscribers**:
    - eventarc-us-west1-trigger-sip-silver-ppln-610911-sub-502
- **trigger-wkly-acts-silver-ppln** (eventarc-us-west1-trigger-wkly-acts-ppln-559919-459)
  - **description**:
    - Topic that is written to every time a file is dropped in the `activationz` [bucket in GCS]('https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/GCS/gcs.md'). This is done by using [Eventarc](https://github.com/CarrierOps/1P-Wiki/blob/main/ByteSizedLearning/Description%20Of%20Services/Eventarc.md). Then the subscriber of this topic triggers the [gfa ppln trigger cloud function](https://github.com/CarrierOps/1P-Wiki/blob/main/DocuMentor/gcp/Cloud-Function/trigger_wkly_acts_ppln.md) using a push delivery type.
  - **subscribers**:
    - eventarc-us-west1-trigger-wkly-acts-ppln-559919-sub-179
